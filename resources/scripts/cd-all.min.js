if(typeof JSON!=="object"){JSON={}}(function(){"use strict";function f(t){return t<10?"0"+t:t}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(t){escapable.lastIndex=0;return escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return typeof e==="string"?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,o,r,a=gap,s,l=e[t];if(l&&typeof l==="object"&&typeof l.toJSON==="function"){l=l.toJSON(t)}if(typeof rep==="function"){l=rep.call(e,t,l)}switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l){return"null"}gap+=indent;s=[];if(Object.prototype.toString.apply(l)==="[object Array]"){r=l.length;for(n=0;n<r;n+=1){s[n]=str(n,l)||"null"}o=s.length===0?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]";gap=a;return o}if(rep&&typeof rep==="object"){r=rep.length;for(n=0;n<r;n+=1){if(typeof rep[n]==="string"){i=rep[n];o=str(i,l);if(o){s.push(quote(i)+(gap?": ":":")+o)}}}}else{for(i in l){if(Object.prototype.hasOwnProperty.call(l,i)){o=str(i,l);if(o){s.push(quote(i)+(gap?": ":":")+o)}}}}o=s.length===0?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}";gap=a;return o}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(t,e,n){var i;gap="";indent="";if(typeof n==="number"){for(i=0;i<n;i+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=e;if(e&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":t})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(t,e){var n,i,o=t[e];if(o&&typeof o==="object"){for(n in o){if(Object.prototype.hasOwnProperty.call(o,n)){i=walk(o,n);if(i!==undefined){o[n]=i}else{delete o[n]}}}}return reviver.call(t,e,o)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();window.Modernizr=function(t,e,n){function i(t){g.cssText=t}function o(t,e){return i($.join(t+";")+(e||""))}function r(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var i in t){var o=t[i];if(!a(o,"-")&&g[o]!==n)return e=="pfx"?o:!0}return!1}function l(t,e,i){for(var o in t){var a=e[t[o]];if(a!==n)return i===!1?t[o]:r(a,"function")?a.bind(i||e):a}return!1}function c(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+C.join(i+" ")+i).split(" ");return r(e,"string")||r(e,"undefined")?s(o,e):(o=(t+" "+k.join(i+" ")+i).split(" "),l(o,e,n))}function u(){h.input=function(n){for(var i=0,o=n.length;i<o;i++)j[n[i]]=n[i]in y;return j.list&&(j.list=!!e.createElement("datalist")&&!!t.HTMLDataListElement),j}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(t){for(var i=0,o,r,a,s=t.length;i<s;i++)y.setAttribute("type",r=t[i]),o=y.type!=="text",o&&(y.value=b,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&y.style.WebkitAppearance!==n?(p.appendChild(y),a=e.defaultView,o=a.getComputedStyle&&a.getComputedStyle(y,null).WebkitAppearance!=="textfield"&&y.offsetHeight!==0,p.removeChild(y)):/^(search|tel)$/.test(r)||(/^(url|email)$/.test(r)?o=y.checkValidity&&y.checkValidity()===!1:o=y.value!=b)),S[t[i]]=!!o;return S}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var f="2.6.2",h={},d=!0,p=e.documentElement,m="modernizr",v=e.createElement(m),g=v.style,y=e.createElement("input"),b=":)",w={}.toString,$=" -webkit- -moz- -o- -ms- ".split(" "),x="Webkit Moz O ms",C=x.split(" "),k=x.toLowerCase().split(" "),T={},S={},j={},E=[],_=E.slice,P,O=function(t,n,i,o){var r,a,s,l,c=e.createElement("div"),u=e.body,f=u||e.createElement("body");if(parseInt(i,10))while(i--)s=e.createElement("div"),s.id=o?o[i]:m+(i+1),c.appendChild(s);return r=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),c.id=m,(u?c:f).innerHTML+=r,f.appendChild(c),u||(f.style.background="",f.style.overflow="hidden",l=p.style.overflow,p.style.overflow="hidden",p.appendChild(f)),a=n(c,t),u?c.parentNode.removeChild(c):(f.parentNode.removeChild(f),p.style.overflow=l),!!a},D=function(){function t(t,o){o=o||e.createElement(i[t]||"div"),t="on"+t;var a=t in o;return a||(o.setAttribute||(o=e.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(t,""),a=r(o[t],"function"),r(o[t],"undefined")||(o[t]=n),o.removeAttribute(t))),o=null,a}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),W={}.hasOwnProperty,z;!r(W,"undefined")&&!r(W.call,"undefined")?z=function(t,e){return W.call(t,e)}:z=function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if(typeof e!="function")throw new TypeError;var n=_.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=e.prototype;var r=new o,a=e.apply(r,n.concat(_.call(arguments)));return Object(a)===a?a:r}return e.apply(t,n.concat(_.call(arguments)))};return i}),T.flexbox=function(){return c("flexWrap")},T.flexboxlegacy=function(){return c("boxDirection")},T.canvas=function(){var t=e.createElement("canvas");return!!t.getContext&&!!t.getContext("2d")},T.canvastext=function(){return!!h.canvas&&!!r(e.createElement("canvas").getContext("2d").fillText,"function")},T.postmessage=function(){return!!t.postMessage},T.websqldatabase=function(){return!!t.openDatabase},T.indexedDB=function(){return!!c("indexedDB",t)},T.hashchange=function(){return D("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},T.history=function(){return!!t.history&&!!history.pushState},T.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},T.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},T.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),a(g.backgroundColor,"rgba")},T.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),a(g.backgroundColor,"rgba")||a(g.backgroundColor,"hsla")},T.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(g.background)},T.backgroundsize=function(){return c("backgroundSize")},T.borderimage=function(){return c("borderImage")},T.borderradius=function(){return c("borderRadius")},T.boxshadow=function(){return c("boxShadow")},T.textshadow=function(){return e.createElement("div").style.textShadow===""},T.opacity=function(){return o("opacity:.55"),/^0.55$/.test(g.opacity)},T.cssanimations=function(){return c("animationName")},T.csscolumns=function(){return c("columnCount")},T.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((t+"-webkit- ".split(" ").join(e+t)+$.join(n+t)).slice(0,-t.length)),a(g.backgroundImage,"gradient")},T.cssreflections=function(){return c("boxReflect")},T.csstransforms=function(){return!!c("transform")},T.csstransforms3d=function(){var t=!!c("perspective");return t&&"webkitPerspective"in p.style&&O("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=e.offsetLeft===9&&e.offsetHeight===3}),t},T.csstransitions=function(){return c("transition")},T.fontface=function(){var t;return O('@font-face {font-family:"font";src:url("https://")}',function(n,i){var o=e.getElementById("smodernizr"),r=o.sheet||o.styleSheet,a=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"";t=/src/i.test(a)&&a.indexOf(i.split(" ")[0])===0}),t},T.generatedcontent=function(){var t;return O(["#",m,"{font:0/0 a}#",m,':after{content:"',b,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},T.video=function(){var t=e.createElement("video"),n=!1;try{if(n=!!t.canPlayType)n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(i){}return n},T.audio=function(){var t=e.createElement("audio"),n=!1;try{if(n=!!t.canPlayType)n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(i){}return n},T.localstorage=function(){try{return localStorage.setItem(m,m),localStorage.removeItem(m),!0}catch(t){return!1}},T.sessionstorage=function(){try{return sessionStorage.setItem(m,m),sessionStorage.removeItem(m),!0}catch(t){return!1}},T.webworkers=function(){return!!t.Worker},T.applicationcache=function(){return!!t.applicationCache};for(var N in T)z(T,N)&&(P=N.toLowerCase(),h[P]=T[N](),E.push((h[P]?"":"no-")+P));return h.input||u(),h.addTest=function(t,e){if(typeof t=="object")for(var i in t)z(t,i)&&h.addTest(i,t[i]);else{t=t.toLowerCase();if(h[t]!==n)return h;e=typeof e=="function"?e():e,typeof d!="undefined"&&d&&(p.className+=" "+(e?"":"no-")+t),h[t]=e}return h},i(""),v=y=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=g.elements;return typeof t=="string"?t.split(" "):t}function o(t){var e=m[t[d]];return e||(e={},p++,t[d]=p,m[p]=e),e}function r(t,n,i){n||(n=e);if(v)return n.createElement(t);i||(i=o(n));var r;return i.cache[t]?r=i.cache[t].cloneNode():f.test(t)?r=(i.cache[t]=i.createElem(t)).cloneNode():r=i.createElem(t),r.canHaveChildren&&!u.test(t)?i.frag.appendChild(r):r}function a(t,n){t||(t=e);if(v)return t.createDocumentFragment();n=n||o(t);var r=n.frag.cloneNode(),a=0,s=i(),l=s.length;for(;a<l;a++)r.createElement(s[a]);return r}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return g.shivMethods?r(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(g,e.frag)}function l(t){t||(t=e);var i=o(t);return g.shivCSS&&!h&&!i.hasCSS&&(i.hasCSS=!!n(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),v||s(t,i),t}var c=t.html5||{},u=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h,d="_html5shiv",p=0,m={},v;(function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",h="hidden"in t,v=t.childNodes.length==1||function(){e.createElement("a");var t=e.createDocumentFragment();return typeof t.cloneNode=="undefined"||typeof t.createDocumentFragment=="undefined"||typeof t.createElement=="undefined"}()}catch(n){h=!0,v=!0}})();var g={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:v,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:l,createElement:r,createDocumentFragment:a};t.html5=g,l(e)}(this,e),h._version=f,h._prefixes=$,h._domPrefixes=k,h._cssomPrefixes=C,h.hasEvent=D,h.testProp=function(t){return s([t])},h.testAllProps=c,h.testStyles=O,p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(d?" js "+E.join(" "):""),h}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==p.call(t)}function o(t){return"string"==typeof t}function r(){}function a(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(){var t=m.shift();v=1,t?t.t?h(function(){("c"==t.t?j.injectCss:j.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),s()):v=0}function l(t,n,i,o,r,l,c){function u(e){if(!p&&a(f.readyState)&&(w.r=p=1,!v&&s(),f.onload=f.onreadystatechange=null,e)){"img"!=t&&h(function(){b.removeChild(f)},50);for(var i in k[n])k[n].hasOwnProperty(i)&&k[n][i].onload()}}var c=c||j.errorTimeout,f=e.createElement(t),p=0,g=0,w={t:i,s:n,e:r,a:l,x:c};1===k[n]&&(g=1,k[n]=[]),"object"==t?f.data=n:(f.src=n,f.type=t),f.width=f.height="0",f.onerror=f.onload=f.onreadystatechange=function(){u.call(this,g)},m.splice(o,0,w),"img"!=t&&(g||2===k[n]?(b.insertBefore(f,y?null:d),h(u,c)):k[n].push(f))}function c(t,e,n,i,r){return v=0,e=e||"j",o(t)?l("c"==e?$:w,t,e,this.i++,n,i,r):(m.splice(this.i++,0,t),1==m.length&&s()),this}function u(){var t=j;return t.loader={load:c,i:0},t}var f=e.documentElement,h=t.setTimeout,d=e.getElementsByTagName("script")[0],p={}.toString,m=[],v=0,g="MozAppearance"in f.style,y=g&&!!e.createRange().compareNode,b=y?f:d.parentNode,f=t.opera&&"[object Opera]"==p.call(t.opera),f=!!e.attachEvent&&!f,w=g?"object":f?"script":"img",$=f?"script":w,x=Array.isArray||function(t){return"[object Array]"==p.call(t)},C=[],k={},T={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}},S,j;j=function(t){function e(t){var t=t.split("!"),e=C.length,n=t.pop(),i=t.length,n={url:n,origUrl:n,prefixes:t},o,r,a;for(r=0;r<i;r++)a=t[r].split("="),(o=T[a.shift()])&&(n=o(n,a));for(r=0;r<e;r++)n=C[r](n);return n}function a(t,o,r,a,s){var l=e(t),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(o&&(o=i(o)?o:o[t]||o[a]||o[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,o,r,a,s):(k[l.url]?l.noexec=!0:k[l.url]=1,r.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(o)||i(c))&&r.load(function(){u(),o&&o(l.origUrl,s,a),c&&c(l.origUrl,s,a),k[l.url]=2})))}function s(t,e){function n(t,n){if(t){if(o(t))n||(c=function(){var t=[].slice.call(arguments);u.apply(this,t),f()}),a(t,c,e,0,s);else if(Object(t)===t)for(d in h=function(){var e=0,n;for(n in t)t.hasOwnProperty(n)&&e++;return e}(),t)t.hasOwnProperty(d)&&(!n&&!--h&&(i(c)?c=function(){var t=[].slice.call(arguments);u.apply(this,t),f()}:c[d]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),f()}}(u[d])),a(t[d],c,e,d,s))}else!n&&f()}var s=!!t.test,l=t.load||t.both,c=t.callback||r,u=c,f=t.complete||r,h,d;n(s?t.yep:t.nope,!!l),l&&n(l)}var l,c,f=this.yepnope.loader;if(o(t))a(t,0,f,0);else if(x(t))for(l=0;l<t.length;l++)c=t[l],o(c)?a(c,0,f,0):x(c)?j(c):Object(c)===c&&s(c,f);else Object(t)===t&&s(t,f)},j.addPrefix=function(t,e){T[t]=e},j.addFilter=function(t){C.push(t)},j.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",S=function(){e.removeEventListener("DOMContentLoaded",S,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=s,t.yepnope.injectJs=function(t,n,i,o,l,c){var u=e.createElement("script"),f,p,o=o||j.errorTimeout;u.src=t;for(p in i)u.setAttribute(p,i[p]);n=c?s:n||r,u.onreadystatechange=u.onload=function(){!f&&a(u.readyState)&&(f=1,n(),u.onload=u.onreadystatechange=null)},h(function(){f||(f=1,n(1))},o),l?u.onload():d.parentNode.insertBefore(u,d)},t.yepnope.injectCss=function(t,n,i,o,a,l){var o=e.createElement("link"),c,n=l?s:n||r;o.href=t,o.rel="stylesheet",o.type="text/css";for(c in i)o.setAttribute(c,i[c]);a||(d.parentNode.insertBefore(o,d),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};!function(t){t(function(){t.support.transition=function(){var t=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in e)if(t.style[n]!==undefined)return e[n]}();return t&&{end:t}}()})}(window.jQuery),!function(t){var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")})},hide:function(e){e&&e.preventDefault();var n=this;e=t.Event("hide"),this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]!==t.target&&!e.$element.has(t.target).length&&e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){e.which==27&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!e)return;o?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var i=t(this),o=i.data("modal"),r=t.extend({},t.fn.modal.defaults,i.data(),typeof n=="object"&&n);o||i.data("modal",o=new e(this,r)),typeof n=="string"?o[n]():r.show&&o.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),o=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),n.data());e.preventDefault(),o.modal(r).one("hide",function(){n.focus()})})}(window.jQuery),!function(t){function e(){t(i).each(function(){n(t(this)).removeClass("open")})}function n(e){var n=e.attr("data-target"),i;n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),i=n&&t(n);if(!i||!i.length)i=e.parent();return i}var i="[data-toggle=dropdown]",o=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};o.prototype={constructor:o,toggle:function(i){var o=t(this),r,a;if(o.is(".disabled, :disabled"))return;return r=n(o),a=r.hasClass("open"),e(),a||r.toggleClass("open"),o.focus(),!1},keydown:function(e){var o,r,a,s,l,c;if(!/(38|40|27)/.test(e.keyCode))return;o=t(this),e.preventDefault(),e.stopPropagation();if(o.is(".disabled, :disabled"))return;s=n(o),l=s.hasClass("open");if(!l||l&&e.keyCode==27)return e.which==27&&s.find(i).focus(),o.click();r=t("[role=menu] li:not(.divider):visible a",s);if(!r.length)return;c=r.index(r.filter(":focus")),e.keyCode==38&&c>0&&c--,e.keyCode==40&&c<r.length-1&&c++,~c||(c=0),r.eq(c).focus()}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new o(this)),typeof e=="string"&&i[e].call(n)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",i,o.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",o.prototype.keydown)}(window.jQuery),!function(t){function e(e,n){var i=t.proxy(this.process,this),o=t(e).is("body")?t(window):t(e),r;this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(r=t(e).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e=this,n;this.offsets=t([]),this.targets=t([]),n=this.$body.find(this.selector).map(function(){var n=t(this),i=n.data("target")||n.attr("href"),o=/^#\w/.test(i)&&t(i);return o&&o.length&&[[o.position().top+(!t.isWindow(e.$scrollElement.get(0))&&e.$scrollElement.scrollTop()),i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},process:function(){var t=this.$scrollElement.scrollTop()+this.options.offset,e=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=e-this.$scrollElement.height(),i=this.offsets,o=this.targets,r=this.activeTarget,a;if(t>=n)return r!=(a=o.last()[0])&&this.activate(a);for(a=i.length;a--;)r!=o[a]&&t>=i[a]&&(!i[a+1]||t<=i[a+1])&&this.activate(o[a])},activate:function(e){var n,i;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),o=i.data("scrollspy"),r=typeof n=="object"&&n;o||i.data("scrollspy",o=new e(this,r)),typeof n=="string"&&o[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.attr("data-target"),o,r,a;i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));if(e.parent("li").hasClass("active"))return;o=n.find(".active:last a")[0],a=t.Event("show",{relatedTarget:o}),e.trigger(a);if(a.isDefaultPrevented())return;r=t(i),this.activate(e.parent("li"),n),this.activate(r,r.parent(),function(){e.trigger({type:"shown",relatedTarget:o})})},activate:function(e,n,i){function o(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var r=n.find("> .active"),a=i&&t.support.transition&&r.hasClass("fade");a?r.one(t.support.transition.end,o):o(),r.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),o=i.data("tab");o||i.data("tab",o=new e(this)),typeof n=="string"&&o[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var o,r,a,s,l;this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,a=this.options.trigger.split(" ");for(l=a.length;l--;)s=a[l],s=="click"?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):s!="manual"&&(o=s=="hover"?"mouseenter":"focus",r=s=="hover"?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n=t.fn[this.type].defaults,i={},o;this._options&&t.each(this._options,function(t,e){n[t]!=e&&(i[t]=e)},this),o=t(e.currentTarget)[this.type](i).data(this.type);if(!o.options.delay||!o.options.delay.show)return o.show();clearTimeout(this.timeout),o.hoverState="in",this.timeout=setTimeout(function(){o.hoverState=="in"&&o.show()},o.options.delay.show)},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,n,i,o,r,a,s=t.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(s);if(s.isDefaultPrevented())return;e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),r=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),i=e[0].offsetWidth,o=e[0].offsetHeight;switch(r){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-o,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-o/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-o/2,left:n.left+n.width}}this.applyPlacement(a,r),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r,a,s,l;n.offset(t).addClass(e).addClass("in"),r=n[0].offsetWidth,a=n[0].offsetHeight,e=="top"&&a!=o&&(t.top=t.top+o-a,l=!0),e=="bottom"||e=="top"?(s=0,t.left<0&&(s=t.left*-2,t.left=0,n.offset(t),r=n[0].offsetWidth,a=n[0].offsetHeight),this.replaceArrow(s-i+r,r,"left")):this.replaceArrow(a-o,a,"top"),l&&n.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).detach()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.detach()})}var n=this,i=this.tip(),o=t.Event("hide");this.$element.trigger(o);if(o.isDefaultPrevented())return;return i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||typeof t.attr("data-original-title")!="string")&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},typeof e.getBoundingClientRect=="function"?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||(typeof n.title=="function"?n.title.call(e[0]):n.title),t},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("tooltip"),r=typeof n=="object"&&n;o||i.data("tooltip",o=new e(this,r)),typeof n=="string"&&o[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),!function(t){var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=(typeof n.content=="function"?n.content.call(e[0]):n.content)||e.attr("data-content"),t},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("popover"),r=typeof n=="object"&&n;o||i.data("popover",o=new e(this,r)),typeof n=="string"&&o[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),!function(t){var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)
},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var e=t(document).height(),n=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,r=o.bottom,a=o.top,s="affix affix-top affix-bottom",l;typeof o!="object"&&(r=a=o),typeof a=="function"&&(a=o.top()),typeof r=="function"&&(r=o.bottom()),l=this.unpin!=null&&n+this.unpin<=i.top?!1:r!=null&&i.top+this.$element.height()>=e-r?"bottom":a!=null&&n<=a?"top":!1;if(this.affixed===l)return;this.affixed=l,this.unpin=l=="bottom"?i.top-n:null,this.$element.removeClass(s).addClass("affix"+(l?"-"+l:""))};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),o=i.data("affix"),r=typeof n=="object"&&n;o||i.data("affix",o=new e(this,r)),typeof n=="string"&&o[n]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),!function(t){var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){r.trigger("closed").remove()}var i=t(this),o=i.attr("data-target"),r;o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r=t(o),e&&e.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(e=t.Event("close"));if(e.isDefaultPrevented())return;r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.on(t.support.transition.end,n):n()};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("alert");o||i.data("alert",o=new n(this)),typeof e=="string"&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.data(),o=n.is("input")?"val":"html";t+="Text",i.resetText||n.data("resetText",n[o]()),n[o](i[t]||this.options[t]),setTimeout(function(){t=="loadingText"?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),o=i.data("button"),r=typeof n=="object"&&n;o||i.data("button",o=new e(this,r)),n=="toggle"?o.toggle():n&&o.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,i,o;if(this.transitioning||this.$element.hasClass("in"))return;e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in");if(i&&i.length){o=i.data("collapse");if(o&&o.transitioning)return;i.collapse("hide"),o||i.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])},hide:function(){var e;if(this.transitioning||!this.$element.hasClass("in"))return;e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0)},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[t!==null?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,i){var o=this,r=function(){n.type=="show"&&o.reset(),o.transitioning=0,o.$element.trigger(i)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,r):r()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),o=i.data("collapse"),r=t.extend({},t.fn.collapse.defaults,i.data(),typeof n=="object"&&n);o||i.data("collapse",o=new e(this,r)),typeof n=="string"&&o[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n=t(this),i,o=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),r=t(o).data("collapse")?"toggle":n.data();n[t(o).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(o).collapse(r)})}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.options.pause=="hover"&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),i=this;if(e>this.$items.length-1||e<0)return;return this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(e,n){var i=this.$element.find(".item.active"),o=n||i[e](),r=this.interval,a=e=="next"?"left":"right",s=e=="next"?"first":"last",l=this,c;this.sliding=!0,r&&this.pause(),o=o.length?o:this.$element.find(".item")[s](),c=t.Event("slide",{relatedTarget:o[0],direction:a});if(o.hasClass("active"))return;this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")}));if(t.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(c);if(c.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,i.addClass(a),o.addClass(a),this.$element.one(t.support.transition.end,function(){o.removeClass([e,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{this.$element.trigger(c);if(c.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return r&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),o=i.data("carousel"),r=t.extend({},t.fn.carousel.defaults,typeof n=="object"&&n),a=typeof n=="string"?n:r.slide;o||i.data("carousel",o=new e(this,r)),typeof n=="number"?o.to(n):a?o[a]():r.interval&&o.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n=t(this),i,o=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),r=t.extend({},o.data(),n.data()),a;o.carousel(r),(a=n.attr("data-slide-to"))&&o.data("carousel").pause().to(a).cycle(),e.preventDefault()})}(window.jQuery),!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){var e=[],n=[],i=[],o;while(o=t.shift())o.toLowerCase().indexOf(this.query.toLowerCase())?~o.indexOf(this.query)?n.push(o):i.push(o):e.push(o);return e.concat(n,i)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,i){return e=t(n.options.item).attr("data-value",i),e.find("a").html(n.highlighter(i)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(e){var n=this.$menu.find(".active").removeClass("active"),i=n.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),n=e.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e=typeof this.$element[t]=="function"),e},move:function(t){if(!this.shown)return;switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){if(this.suppressKeyPressRepeat)return;this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var i=t(this),o=i.data("typeahead"),r=typeof n=="object"&&n;o||i.data("typeahead",o=new e(this,r)),typeof n=="string"&&o[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var n=t(this);if(n.data("typeahead"))return;n.typeahead(n.data())})}(window.jQuery)(function(t,e){$window=t(e),t.fn.lazyload=function(n){var i={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null};n&&(undefined!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),undefined!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),t.extend(i,n));var o=this;return 0==i.event.indexOf("scroll")&&t(i.container).bind(i.event,function(e){var n=0;o.each(function(){$this=t(this);if(i.skip_invisible&&!$this.is(":visible"))return;if(!t.abovethetop(this,i)&&!t.leftofbegin(this,i))if(!t.belowthefold(this,i)&&!t.rightoffold(this,i))$this.trigger("appear");else if(++n>i.failure_limit)return!1})}),this.each(function(){var e=this,n=t(e);e.loaded=!1,n.one("appear",function(){if(!this.loaded){if(i.appear){var r=o.length;i.appear.call(e,r,i)}t("<img />").bind("load",function(){n.hide().attr("src",n.data(i.data_attribute))[i.effect](i.effect_speed),e.loaded=!0;var r=t.grep(o,function(t){return!t.loaded});o=t(r);if(i.load){var a=o.length;i.load.call(e,a,i)}}).attr("src",n.data(i.data_attribute))}}),0!=i.event.indexOf("scroll")&&n.bind(i.event,function(t){e.loaded||n.trigger("appear")})}),$window.bind("resize",function(e){t(i.container).trigger(i.event)}),t(i.container).trigger(i.event),this},t.belowthefold=function(n,i){if(i.container===undefined||i.container===e)var o=$window.height()+$window.scrollTop();else var o=t(i.container).offset().top+t(i.container).height();return o<=t(n).offset().top-i.threshold},t.rightoffold=function(n,i){if(i.container===undefined||i.container===e)var o=$window.width()+$window.scrollLeft();else var o=t(i.container).offset().left+t(i.container).width();return o<=t(n).offset().left-i.threshold},t.abovethetop=function(n,i){if(i.container===undefined||i.container===e)var o=$window.scrollTop();else var o=t(i.container).offset().top;return o>=t(n).offset().top+i.threshold+t(n).height()},t.leftofbegin=function(n,i){if(i.container===undefined||i.container===e)var o=$window.scrollLeft();else var o=t(i.container).offset().left;return o>=t(n).offset().left+i.threshold+t(n).width()},t.inviewport=function(e,n){return!t.rightofscreen(e,n)&&!t.leftofscreen(e,n)&&!t.belowthefold(e,n)&&!t.abovethetop(e,n)},t.extend(t.expr[":"],{"below-the-fold":function(n){return t.belowthefold(n,{threshold:0,container:e})},"above-the-top":function(n){return!t.belowthefold(n,{threshold:0,container:e})},"right-of-screen":function(n){return t.rightoffold(n,{threshold:0,container:e})},"left-of-screen":function(n){return!t.rightoffold(n,{threshold:0,container:e})},"in-viewport":function(n){return!t.inviewport(n,{threshold:0,container:e})},"above-the-fold":function(n){return!t.belowthefold(n,{threshold:0,container:e})},"right-of-fold":function(n){return t.rightoffold(n,{threshold:0,container:e})},"left-of-fold":function(n){return!t.rightoffold(n,{threshold:0,container:e})}})})(jQuery,window);var Waduanzi={};Waduanzi.urlValidate=function(t){var e=/http:\/\/[\w-]*(\.[\w-]*)+/gi;return e.test(t)};Waduanzi.emailValidate=function(t){var e=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/gi;return e.test(t)};Waduanzi.IncreasePostViewNums=function(t,e){var n=$.ajax({url:e,type:"POST",dataType:"json",data:{id:t}})};Waduanzi.setPrevNextButtonPosition=function(){var t=$(".post-picture .btn-prev-next span");if(t.length==0)return false;var e=$(".post-picture.thumbbox img");var n=$(".post-picture").position().top;var i=n+(e.height()>300?100:e.height()/2);var o=n+e.height()-i-100-47;if($(document).scrollTop()<o){t.css("position","fixed");t.css("top",i)}else{t.css("position","absolute");t.css("top",o+100)}};Waduanzi.RatingComment=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","评论评价按钮","点击"]);var e=$(this);var n=parseInt(e.attr("data-id"));var i=parseInt(e.attr("data-value"));var o=e.parents(".comment-item").find(".comment-score");var r=e.attr("data-url");var a=e.hasClass("pushed");var s=e.parent().find("a.arrow-up").hasClass("pushed");var l=e.parent().find("a.arrow-down").hasClass("pushed");var c=0;if(s||l){if(a){e.toggleClass("pushed");c=i>0?-1:1}else{e.parent().find("a").toggleClass("pushed");c=i>0?2:-2}}else{e.toggleClass("pushed");if(i>0)c=1;else{c=-1}}o.text(parseInt(o.text())+c);var u=$.ajax({url:r,type:"POST",dataType:"json",data:{id:n,score:i}});u.done(function(t){if(parseInt(t.errno)==0){}})};Waduanzi.PostComment=function(t){t.preventDefault();var e=$(this).parents("form");var n=e.find(".comment-content");var i=e.next(".caption-error");var o=e.find(".save-caption-loader");var r=n.attr("data-placeholder");var a=$.trim(n.val());var s=parseInt(e.find("input[name=postid]").val());if(s<=0||a.length<=0||a==r)return false;var l=$.ajax({url:e.attr("action"),type:"POST",dataType:"json",data:e.serialize(),beforeSend:function(){i.empty().hide();o.show()}});l.done(function(t){o.hide();if(t.errno==0){i.after(t.html);n.val("").removeClass("expand");_hmt&&_hmt.push(["_trackEvent","评论","评论成功"])}else{i.html(t.error).show();_hmt&&_hmt.push(["_trackEvent","评论","评论失败"])}});l.fail(function(){o.hide();i.html("发送请求错误！").show();_hmt&&_hmt.push(["_trackEvent","评论","评论失败"])})};Waduanzi.switchImageSize=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","图片","缩略图与大图切换点击"]);var e=$(this);var n=e.parents(".post-item");n.find(".thumbnail-more").toggle();n.find(".thumb-pall").toggle();e.find(".thumb").toggle();e.find(".bmiddle").attr("src",e.attr("data-bmiddle-url")).toggle();var i=n.position();$(document).scrollTop(parseInt(i.top)-80)};Waduanzi.ratingPost=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","文章评价","点击按钮"]);var e=$(this);var n=e.parents(".post-box");var i=e.attr("data-id");var o=e.attr("data-score");var r=e.attr("data-url");var a=$.ajax({type:"POST",url:r,data:{pid:i,score:o},dataType:"json",beforeSend:function(){e.toggleClass("voted")}});a.done(function(t){if(t.errno==0){var i=parseInt(e.text());var o=0;if(e.hasClass("upscore"))o=i+1;else if(e.hasClass("downscore"))o=i-1;e.text(o);n.find("a.upscore, a.downscore").addClass("disabled");n.find(".item-toolbar").off("click","a.upscore, a.downscore")}else{alert("评价出错");e.toggleClass("voted")}});a.fail(function(){alert("x");e.toggleClass("voted")})};Waduanzi.fixedAdBlock=function(){var t=$(".cd-sidebar .ad-block").last();var e=$(".cd-sidebar > div:not(.ad-block)").last();if(e.position()==undefined)return;var n=e.position().top+e.height()-50;$(window).scroll(function(e){if($(document).scrollTop()>=n)!t.hasClass("fixed")&&t.addClass("fixed");else t.hasClass("fixed")&&t.removeClass("fixed")})};Waduanzi.showShareBox=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","分享列表","显示"]);var e=$(this).parents(".item-toolbar").find("#bdshare");if(e.attr("data").length==0){var n=$(this).parents(".post-box");var i={url:n.find(".item-title a").attr("href"),text:"转自@挖段子网："+$.trim(n.find(".item-title").text()),pic:n.find(".thumbbox a").attr("data-bmiddle-url")};e.attr("data",JSON.stringify(i))}$(this).parents(".item-toolbar").find(".sharebox:hidden").stop(true,true).delay(50).show()};Waduanzi.hideShareBox=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","分享列表","隐藏"]);$(this).parents(".item-toolbar").find(".sharebox:visible").stop(true,true).delay(50).hide()};Waduanzi.showQuickLoginWindow=function(){$("#quick-login-modal").modal({remote:wdz_quick_login_url,show:true,keyboard:true});$("#quick-login-modal").modal("show");$("#quick-login-modal").on("shown",function(){$(this).find(":text").first().focus()})};Waduanzi.favoritePost=function(t){t.preventDefault();if(!wdz_logined){Waduanzi.showQuickLoginWindow();return}_hmt&&_hmt.push(["_trackEvent","收藏按钮","点击"]);var e=$(this);var n=e.parents(".post-box");var i=e.attr("data-id");var o=e.attr("data-url");var r=$.ajax({type:"POST",url:o,data:{pid:i},dataType:"json",beforeSend:function(){e.toggleClass("voted")}});r.done(function(t){if(t.errno==0){var i=parseInt(e.text())+1;e.text(i).addClass("disabled");n.find(".item-toolbar").off("click","a.favorite")}else{alert("收藏出错");e.toggleClass("voted")}});r.fail(function(){alert("x");e.toggleClass("voted")})};Waduanzi.quickLogin=function(t,e,n,i){var o=$.ajax({url:t,data:e,dataType:"json",type:"post"});n&&o.done(function(t,e,i){n(t,e,i)});i&&o.fail(function(t,e,n){i(t,e,n)})};Waduanzi.fetchComments=function(t){t.preventDefault();var e=$(this);var n=e.parents(".item-toolbar").next(".comment-list");if(n.filter(":visible").length>0){n.hide();_hmt&&_hmt.push(["_trackEvent","评论","隐藏评论列表"]);return true}else if(n.html().length>0){n.show();_hmt&&_hmt.push(["_trackEvent","评论","查看评论列表"]);return true}_hmt&&_hmt.push(["_trackEvent","评论","查看评论列表"]);var i=e.attr("data-url");var o=e.text();var r=$.ajax({url:i,dataType:"json",type:"get",cache:true,beforeSend:function(t,n){e.text("...")}});r.done(function(t,e,i){n.html(t.html).show();n.find("textarea").focus()});r.fail(function(t,e,n){alert("fail")});r.always(function(){e.text(o)})};$(function(){Waduanzi.fixedAdBlock();$(".channel-nav .top-menu").on("mouseenter",function(){$(this).css("height","auto")});$(".channel-nav .top-menu").on("mouseleave",function(){$(this).css("height","45px")})});