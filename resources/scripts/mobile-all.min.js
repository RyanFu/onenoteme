!function(t){t(function(){t.support.transition=function(){var t=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i;for(i in e)if(t.style[i]!==undefined)return e[i]}();return t&&{end:t}}()})}(window.jQuery),!function(t){var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i);if(this.isShown||i.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")})},hide:function(e){e&&e.preventDefault();var i=this;e=t.Event("hide"),this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]!==t.target&&!e.$element.has(t.target).length&&e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){e.which==27&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},hideModal:function(t){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var i=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),s?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(this.removeBackdrop,this)):this.removeBackdrop()):e&&e()}},t.fn.modal=function(i){return this.each(function(){var n=t(this),s=n.data("modal"),a=t.extend({},t.fn.modal.defaults,n.data(),typeof i=="object"&&i);s||n.data("modal",s=new e(this,a)),typeof i=="string"?s[i]():a.show&&s.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),s=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),i.data());e.preventDefault(),s.modal(a).one("hide",function(){i.focus()})})}(window.jQuery),!function(t){function e(){t(n).each(function(){i(t(this)).removeClass("open")})}function i(e){var i=e.attr("data-target"),n;return i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=t(i),n.length||(n=e.parent()),n}var n="[data-toggle=dropdown]",s=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};s.prototype={constructor:s,toggle:function(n){var s=t(this),a,o;if(s.is(".disabled, :disabled"))return;return a=i(s),o=a.hasClass("open"),e(),o||(a.toggleClass("open"),s.focus()),!1},keydown:function(e){var n,s,a,o,r,l;if(!/(38|40|27)/.test(e.keyCode))return;n=t(this),e.preventDefault(),e.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),r=o.hasClass("open");if(!r||r&&e.keyCode==27)return n.click();s=t("[role=menu] li:not(.divider) a",o);if(!s.length)return;l=s.index(s.filter(":focus")),e.keyCode==38&&l>0&&l--,e.keyCode==40&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus()}},t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new s(this)),typeof e=="string"&&n[e].call(i)})},t.fn.dropdown.Constructor=s,t(document).on("click.dropdown.data-api touchstart.dropdown.data-api",e).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",n,s.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",n+", [role=menu]",s.prototype.keydown)}(window.jQuery),!function(t){function e(e,i){var n=t.proxy(this.process,this),s=t(e).is("body")?t(window):t(e),a;this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=s.on("scroll.scroll-spy.data-api",n),this.selector=(this.options.target||(a=t(e).attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e=this,i;this.offsets=t([]),this.targets=t([]),i=this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),n=/^#\w/.test(i)&&t(i);return n&&n.length&&[[n.position().top,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},process:function(){var t=this.$scrollElement.scrollTop()+this.options.offset,e=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=e-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget,o;if(t>=i)return a!=(o=s.last()[0])&&this.activate(o);for(o=n.length;o--;)a!=s[o]&&t>=n[o]&&(!n[o+1]||t<=n[o+1])&&this.activate(s[o])},activate:function(e){var i,n;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}},t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),s=n.data("scrollspy"),a=typeof i=="object"&&i;s||n.data("scrollspy",s=new e(this,a)),typeof i=="string"&&s[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),!function(t){var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.attr("data-target"),s,a,o;n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,""));if(e.parent("li").hasClass("active"))return;s=i.find(".active:last a")[0],o=t.Event("show",{relatedTarget:s}),e.trigger(o);if(o.isDefaultPrevented())return;a=t(n),this.activate(e.parent("li"),i),this.activate(a,a.parent(),function(){e.trigger({type:"shown",relatedTarget:s})})},activate:function(e,i,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var a=i.find("> .active"),o=n&&t.support.transition&&a.hasClass("fade");o?a.one(t.support.transition.end,s):s(),a.removeClass("in")}},t.fn.tab=function(i){return this.each(function(){var n=t(this),s=n.data("tab");s||n.data("tab",s=new e(this)),typeof i=="string"&&s[i]()})},t.fn.tab.Constructor=e,t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var s,a;this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):this.options.trigger!="manual"&&(s=this.options.trigger=="hover"?"mouseenter":"focus",a=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.leave,this))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);if(!i.options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show)},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out",this.timeout=setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide)},show:function(){var t,e,i,n,s,a,o;if(this.hasContent()&&this.enabled){t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),a=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(a),t.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),i=this.getPosition(e),n=t[0].offsetWidth,s=t[0].offsetHeight;switch(e?a.split(" ")[1]:a){case"bottom":o={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":o={top:i.top-s,left:i.left+i.width/2-n/2};break;case"left":o={top:i.top+i.height/2-s/2,left:i.left-n};break;case"right":o={top:i.top+i.height/2-s/2,left:i.left+i.width}}t.offset(o).addClass(a).addClass("in")}},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var i=this,n=this.tip();return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this},fixTitle:function(){var t=this.$element;(t.attr("title")||typeof t.attr("data-original-title")!="string")&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||(typeof i.title=="function"?i.title.call(e[0]):i.title),t},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);i[i.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},t.fn.tooltip=function(i){return this.each(function(){var n=t(this),s=n.data("tooltip"),a=typeof i=="object"&&i;s||n.data("tooltip",s=new e(this,a)),typeof i=="string"&&s[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1}}(window.jQuery),!function(t){var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content > *")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-content")||(typeof i.content=="function"?i.content.call(e[0]):i.content),t},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),t.fn.popover=function(i){return this.each(function(){var n=t(this),s=n.data("popover"),a=typeof i=="object"&&i;s||n.data("popover",s=new e(this,a)),typeof i=="string"&&s[i]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(t){var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var e=t(document).height(),i=this.$window.scrollTop(),n=this.$element.offset(),s=this.options.offset,a=s.bottom,o=s.top,r="affix affix-top affix-bottom",l;typeof s!="object"&&(a=o=s),typeof o=="function"&&(o=s.top()),typeof a=="function"&&(a=s.bottom()),l=this.unpin!=null&&i+this.unpin<=n.top?!1:a!=null&&n.top+this.$element.height()>=e-a?"bottom":o!=null&&i<=o?"top":!1;if(this.affixed===l)return;this.affixed=l,this.unpin=l=="bottom"?n.top-i:null,this.$element.removeClass(r).addClass("affix"+(l?"-"+l:""))},t.fn.affix=function(i){return this.each(function(){var n=t(this),s=n.data("affix"),a=typeof i=="object"&&i;s||n.data("affix",s=new e(this,a)),typeof i=="string"&&s[i]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(window.jQuery),!function(t){var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){a.trigger("closed").remove()}var n=t(this),s=n.attr("data-target"),a;s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),a=t(s),e&&e.preventDefault(),a.length||(a=n.hasClass("alert")?n:n.parent()),a.trigger(e=t.Event("close"));if(e.isDefaultPrevented())return;a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.on(t.support.transition.end,i):i()},t.fn.alert=function(e){return this.each(function(){var n=t(this),s=n.data("alert");s||n.data("alert",s=new i(this)),typeof e=="string"&&s[e].call(n)})},t.fn.alert.Constructor=i,t(document).on("click.alert.data-api",e,i.prototype.close)}(window.jQuery),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),s=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[s]()),i[s](n[t]||this.options[t]),setTimeout(function(){t=="loadingText"?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")},t.fn.button=function(i){return this.each(function(){var n=t(this),s=n.data("button"),a=typeof i=="object"&&i;s||n.data("button",s=new e(this,a)),i=="toggle"?s.toggle():i&&s.setState(i)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})}(window.jQuery),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i,n,s;if(this.transitioning)return;e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),n=this.$parent&&this.$parent.find("> .accordion-group > .in");if(n&&n.length){s=n.data("collapse");if(s&&s.transitioning)return;n.collapse("hide"),s||n.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])},hide:function(){var e;if(this.transitioning)return;e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0)},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[t!==null?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,n){var s=this,a=function(){i.type=="show"&&s.reset(),s.transitioning=0,s.$element.trigger(n)};this.$element.trigger(i);if(i.isDefaultPrevented())return;this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,a):a()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},t.fn.collapse=function(i){return this.each(function(){var n=t(this),s=n.data("collapse"),a=typeof i=="object"&&i;s||n.data("collapse",s=new e(this,a)),typeof i=="string"&&s[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i=t(this),n,s=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=t(s).data("collapse")?"toggle":i.data();i[t(s).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(s).collapse(a)})}(window.jQuery),!function(t){var e=function(e,i){this.$element=t(e),this.options=i,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},to:function(e){var i=this.$element.find(".item.active"),n=i.parent().children(),s=n.index(i),a=this;if(e>n.length-1||e<0)return;return this.sliding?this.$element.one("slid",function(){a.to(e)}):s==e?this.pause().cycle():this.slide(e>s?"next":"prev",t(n[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(e,i){var n=this.$element.find(".item.active"),s=i||n[e](),a=this.interval,o=e=="next"?"left":"right",r=e=="next"?"first":"last",l=this,h;this.sliding=!0,a&&this.pause(),s=s.length?s:this.$element.find(".item")[r](),h=t.Event("slide",{relatedTarget:s[0]});if(s.hasClass("active"))return;if(t.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(h);if(h.isDefaultPrevented())return;s.addClass(e),s[0].offsetWidth,n.addClass(o),s.addClass(o),this.$element.one(t.support.transition.end,function(){s.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{this.$element.trigger(h);if(h.isDefaultPrevented())return;n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}},t.fn.carousel=function(i){return this.each(function(){var n=t(this),s=n.data("carousel"),a=t.extend({},t.fn.carousel.defaults,typeof i=="object"&&i),o=typeof i=="string"?i:a.slide;s||n.data("carousel",s=new e(this,a)),typeof i=="number"?s.to(i):o?s[o]():a.interval&&s.cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t(document).on("click.carousel.data-api","[data-slide]",function(e){var i=t(this),n,s=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},s.data(),i.data());s.carousel(a),e.preventDefault()})}(window.jQuery),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=t(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:e.top+e.height,left:e.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var i;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(i=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,i?this.process(i):this)},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){var e=[],i=[],n=[],s;while(s=t.shift())s.toLowerCase().indexOf(this.query.toLowerCase())?~s.indexOf(this.query)?i.push(s):n.push(s):e.push(s);return e.concat(i,n)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,n){return e=t(i.options.item).attr("data-value",n),e.find("a").html(i.highlighter(n)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(e){var i=this.$menu.find(".active").removeClass("active"),n=i.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),i=e.prev();i.length||(i=this.$menu.find("li").last()),i.addClass("active")},listen:function(){this.$element.on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e=typeof this.$element[t]=="function"),e},move:function(t){if(!this.shown)return;switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()},keydown:function(e){this.suppressKeyPressRepeat=!~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){if(this.suppressKeyPressRepeat)return;this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},blur:function(t){var e=this;setTimeout(function(){e.hide()},150)},click:function(t){t.stopPropagation(),t.preventDefault(),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")}},t.fn.typeahead=function(i){return this.each(function(){var n=t(this),s=n.data("typeahead"),a=typeof i=="object"&&i;s||n.data("typeahead",s=new e(this,a)),typeof i=="string"&&s[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var i=t(this);if(i.data("typeahead"))return;e.preventDefault(),i.typeahead(i.data())})}(window.jQuery);if(typeof JSON!=="object"){JSON={}}(function(){"use strict";function f(t){return t<10?"0"+t:t}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(t){escapable.lastIndex=0;return escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return typeof e==="string"?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,s,a,o=gap,r,l=e[t];if(l&&typeof l==="object"&&typeof l.toJSON==="function"){l=l.toJSON(t)}if(typeof rep==="function"){l=rep.call(e,t,l)}switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l){return"null"}gap+=indent;r=[];if(Object.prototype.toString.apply(l)==="[object Array]"){a=l.length;for(i=0;i<a;i+=1){r[i]=str(i,l)||"null"}s=r.length===0?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+o+"]":"["+r.join(",")+"]";gap=o;return s}if(rep&&typeof rep==="object"){a=rep.length;for(i=0;i<a;i+=1){if(typeof rep[i]==="string"){n=rep[i];s=str(n,l);if(s){r.push(quote(n)+(gap?": ":":")+s)}}}}else{for(n in l){if(Object.prototype.hasOwnProperty.call(l,n)){s=str(n,l);if(s){r.push(quote(n)+(gap?": ":":")+s)}}}}s=r.length===0?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+o+"}":"{"+r.join(",")+"}";gap=o;return s}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(t,e,i){var n;gap="";indent="";if(typeof i==="number"){for(n=0;n<i;n+=1){indent+=" "}}else if(typeof i==="string"){indent=i}rep=e;if(e&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":t})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(t,e){var i,n,s=t[e];if(s&&typeof s==="object"){for(i in s){if(Object.prototype.hasOwnProperty.call(s,i)){n=walk(s,i);if(n!==undefined){s[i]=n}else{delete s[i]}}}}return reviver.call(t,e,s)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();var CDMobile={};CDMobile.urlValidate=function(t){var e=/http:\/\/[\w-]*(\.[\w-]*)+/gi;return e.test(t)};CDMobile.emailValidate=function(t){var e=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/gi;return e.test(t)};CDMobile.shareToWeixinFriend=function(t){if(typeof WeixinJSBridge=="undefined"){return false}else{var e=$(this).attr("data-image");var i=$(this).attr("data-title");var n=$(this).attr("data-desc");WeixinJSBridge.invoke("shareTimeline",{img_url:e||"",link:location.href,desc:n,title:i},function(t){WeixinJSBridge.log(t.err_msg)})}return false};CDMobile.increaseVisitNums=function(t,e){if(t<=0||e.length==0)return false;var i="id="+t;var n=$.post(e,i,undefined,"json");n.done(function(t){$(".beta-post-detail .beta-visit-nums").text(t)})};CDMobile.switchImageSize=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","图片","缩略图与大图切换点击"]);var e=$(this).parents(".post-item");e.find(".post-image .thumbnail-more").toggle();e.find(".post-image .thumb a .thumb").toggle();e.find(".post-image .thumb-pall").toggle();var i=e.find(".post-image .thumb a").attr("href");e.find(".post-image .thumb a .original").attr("src",i).toggle();var n=e.position();$("body").scrollTop(parseInt(n.top)-75)};CDMobile.ratingPost=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","文章评价","点击按钮"]);var e=$(this);var i=e.parents(".post-box");var n=e.attr("data-id");var s=e.attr("data-score");var a=e.attr("data-url");var o=$.ajax({type:"POST",url:a,data:{pid:n,score:s},dataType:"json",beforeSend:function(){e.toggleClass("voted")}});o.done(function(t){if(t.errno==0){var n=parseInt(e.text());var s=0;if(e.hasClass("upscore"))s=n+1;else if(e.hasClass("downscore"))s=n-1;e.text(s);i.find("a.upscore, a.downscore").addClass("disabled");i.find(".item-toolbar").off("click","a.upscore, a.downscore")}else{alert("评价出错");e.toggleClass("voted")}});o.fail(function(){alert("x");e.toggleClass("voted")})};CDMobile.showShareBox=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","分享列表","显示"]);var e=$(this).parents(".item-toolbar").find("#bdshare");if(e.attr("data").length==0){var i=$(this).parents(".post-box");var n={url:i.find(".item-title a").attr("href"),text:"转自@挖段子网："+$.trim(i.find(".item-title").text()),pic:i.find(".post-image .thumb a").attr("href")};e.attr("data",JSON.stringify(n))}$(this).parents(".item-toolbar").find(".sharebox:hidden").stop(true,true).delay(50).show()};CDMobile.hideShareBox=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","分享列表","隐藏"]);$(this).parents(".item-toolbar").find(".sharebox:visible").stop(true,true).delay(50).hide()};CDMobile.fetchComments=function(t){t.preventDefault();var e=$(this);var i=e.parents(".item-toolbar").next(".comment-list");if(i.filter(":visible").length>0){i.hide();_hmt&&_hmt.push(["_trackEvent","评论","隐藏评论列表"]);return true}else if(i.html().length>0){i.show();_hmt&&_hmt.push(["_trackEvent","评论","查看评论列表"]);return true}_hmt&&_hmt.push(["_trackEvent","评论","查看评论列表"]);var n=e.attr("data-url");var s=e.text();var a=$.ajax({url:n,dataType:"json",type:"get",cache:true,beforeSend:function(t,i){e.text("...")}});a.done(function(t,e,n){i.html(t.html).show();i.find("textarea").focus()});a.fail(function(t,e,i){alert("fail")});a.always(function(){e.text(s)})};CDMobile.RatingComment=function(t){t.preventDefault();_hmt&&_hmt.push(["_trackEvent","评论评价按钮","点击"]);var e=$(this);var i=parseInt(e.attr("data-id"));var n=parseInt(e.attr("data-value"));var s=e.parents(".comment-item").find(".comment-score");var a=e.attr("data-url");var o=e.hasClass("pushed");
var r=e.parent().find("a.arrow-up").hasClass("pushed");var l=e.parent().find("a.arrow-down").hasClass("pushed");var h=0;if(r||l){if(o){e.toggleClass("pushed");h=n>0?-1:1}else{e.parent().find("a").toggleClass("pushed");h=n>0?2:-2}}else{e.toggleClass("pushed");if(n>0)h=1;else{h=-1}}s.text(parseInt(s.text())+h);var c=$.ajax({url:a,type:"POST",dataType:"json",data:{id:i,score:n}});c.done(function(t){if(parseInt(t.errno)==0){}})};CDMobile.PostComment=function(t){t.preventDefault();var e=$(this).parents("form");var i=e.find(".comment-content");var n=e.next(".caption-error");var s=e.find(".save-caption-loader");var a=i.attr("data-placeholder");var o=$.trim(i.val());var r=parseInt(e.find("input[name=postid]").val());if(r<=0||o.length<=0||o==a)return false;var l=$.ajax({url:e.attr("action"),type:"POST",dataType:"json",data:e.serialize(),beforeSend:function(){n.empty().hide();s.show()}});l.done(function(t){s.hide();if(t.errno==0){n.after(t.html);i.val("").removeClass("expand");_hmt&&_hmt.push(["_trackEvent","评论","评论成功"])}else{n.html(t.error).show();_hmt&&_hmt.push(["_trackEvent","评论","评论失败"])}});l.fail(function(){s.hide();n.html("发送请求错误！").show();_hmt&&_hmt.push(["_trackEvent","评论","评论失败"])})};var BetaPost={digg:function(t){t.preventDefault();var e=$(this);var i=parseInt(e.attr("data-id"));var n=e.attr("data-url");var s="beta_digg";var a=JSON.parse($.cookie(s));if(!$.isArray(a))a=[];if($.inArray(i,a)>-1)return false;var o=$.ajax({type:"post",url:n,data:{pid:i},dataType:"json"});o.done(function(t){if(t.errno!=0){e.find(".digg-count").text(t.digg_nums);a.push(i);$.unique(a);$.cookie(s,JSON.stringify(a),{expires:7,path:"/"})}});$(document).off("click","#beta-digg-button")}};var BetaComment={create:function(t){t.preventDefault();var e=$(this);var i=e.next(".beta-alert-message");if(i.length==0)i=$("#beta-create-message").clone().removeAttr("id");var n=i.find(".text");e.after(i);var s=e.find(".beta-captcha");if(s.length>0)e.find("input.beta-captcha").blur();if(e.find(".help-block.error").length>0){n.html("请输入评论内容和验证码后再发布");i.removeClass("alert-success").addClass("alert-error").show();return false}else{var a=e.find(".comment-content");var o=$.trim(a.val());var r=parseInt(a.attr("minlen"));r=isNaN(r)||r==0?5:r;if(o.length<r){n.html("请输入评论内容和验证码后再发布");i.removeClass("alert-success").addClass("alert-error").show();a.focus();return false}if(s.length>0){var l=$.trim(s.val());if(l.length!=4){n.html("请输入评论内容和验证码后再发布");i.removeClass("alert-success").addClass("alert-error").show();s.focus();return false}}}var h=e.find("button[type=submit]");var c=$.ajax({type:"post",url:e.attr("action"),data:e.serialize(),dataType:"json",cache:false,beforeSend:function(t){h.button("loading");n.html("发送数据中...");i.removeClass("alert-error").addClass("alert-success").show()}});c.done(function(t){n.html(t.text);if(t.errno==0){e.find(":text, textarea").val("");e.find(".beta-control-group").removeClass("success error");e.find(".beta-control-group").removeClass("alert-success alert-error");i.removeClass("alert-error").addClass("alert-success").show();var s=$(".beta-comment-item:last");if(s.length==0)s=$("#beta-comment-list");s.after(t.html);if(e.attr("id")==undefined)e.remove();e.find(".comment-content").addClass("mini");$("form .comment-captcha").hide();$(".beta-no-comments").remove()}else{i.removeClass("alert-success").addClass("alert-error").show();e.find(".refresh-captcha").trigger("click")}});c.fail(function(t,e,s,a){c.abort();n.html("请求错误.");i.removeClass("alert-success").addClass("alert-error").show()});c.always(function(){h.button("reset")});return false},reply:function(){var t=$(this).parents(".beta-comment-item").next("form");if(t.length==0){t=$("#comment-form").clone().removeAttr("id").addClass("comment-reply-form").attr("action",$(this).attr("data-url"));t.find(".comment-captcha").hide();t.find(":text, textarea").val("");$(this).parents(".beta-comment-item").after(t);t.find(".beta-control-group").removeClass("error success")}else if(t.filter(":visible").length==0){t.show()}else t.hide();t.next(".beta-alert-message:visible").hide()},rating:function(t){t.preventDefault();var e=$(this);var i=e.parents(".beta-comment-item");var n=i.next(".beta-alert-message");if(n.length==0)n=$("#beta-comment-message").clone().removeAttr("id");var s=n.find(".text");if(e.attr("data-clicked")){s.html("您已经参与过了，谢谢");if(n.hasClass("alert-success"))n.removeClass("alert-success");if(!n.hasClass("alert-error"))n.addClass("alert-error");i.after(n);n.show();return false}var a=e.attr("data-url");var o=$.ajax({url:a,dataType:"json",type:"post",cache:false,beforeSend:function(t){s.html("发送数据中...");n.removeClass("alert-error").addClass("alert-success");i.after(n);n.show()}});o.done(function(t){if(t.errno==0){var a=e.find(".beta-comment-join-nums");a.text(parseInt(a.text())+1);e.attr("data-clicked",1);s.html(t.text);if(n.hasClass("alert-error"))n.removeClass("alert-error");if(!n.hasClass("alert-success"))n.addClass("alert-success")}else{if(n.hasClass("alert-success"))n.removeClass("alert-success");if(!n.hasClass("alert-error"))n.addClass("alert-error")}i.after(n);n.show()});o.fail(function(t,e,a,o){s.html("请求错误.");if(n.hasClass("alert-success"))n.removeClass("alert-success");if(!n.hasClass("alert-error"))n.addClass("alert-error");i.after(n);n.show()})},captchaValidate:function(t){var e=$(this);var i=$.trim(e.val());var n=e.parents(".beta-controls").find(".beta-help-inline");var s=e.parents(".beta-controls").find(".beta-help-error");var a=e.parents(".beta-control-group");n.hide();if(i.length==4){a.removeClass("error").addClass("success");return true}else{s.show();a.removeClass("success").addClass("error");return false}},contentValidate:function(t){var e=$(this);var i=$.trim(e.val());var n=parseInt(e.attr("minlen"));var s=e.parents("form").find(".help-block");n=isNaN(n)||n==0?5:n;if(i.length>n){s.removeClass("error").addClass("success");return true}else{s.removeClass("success").addClass("error");if(i.length==0)e.addClass("mini");return false}},showCaptcha:function(t){var e=$(this);e.removeClass("mini");var i=e.parents("form").find(".comment-captcha:hidden");if(i.length==0)return false;var n=e.parents("form").find("img.beta-captcha-img");n.attr("src",n.attr("lazy-src"));n.trigger("click");i.fadeIn("fast")},refreshCaptcha:function(t){t.preventDefault();var e=$(this).parents(".beta-controls").find(".refresh-captcha").attr("href");var i=$.ajax({url:e,dataType:"json",cache:false});i.done(function(t){$(".beta-captcha-img").attr("src",t["url"]);$("body").data("captcha.hash",[t["hash1"],t["hash2"]])});return false},loadMore:function(t){var e=$(this);var i=parseInt(e.attr("data-page"))+1;var n=e.attr("data-url");var s={page:i};var a=$.ajax({url:n,dataType:"json",type:"get",data:s,cache:false,beforeSend:function(t){e.button("loading")}});a.done(function(t){if(t.errno==0){var n=$(".beta-comment-item:last");if(n.length==0)n=$("#beta-comment-list");n.after(t.html);if(t.html.length>0)e.attr("data-page",i)}else alert("Load more comments error")});a.always(function(){e.button("reset")})}};CDMobile.addContact=function(t,e){if(typeof WeixinJSBridge=="undefined")return false;WeixinJSBridge.invoke("addContact",{webtype:"1",username:t},function(t){WeixinJSBridge.log(t.err_msg);e&&e(t.err_msg)})};